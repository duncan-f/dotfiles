# This file has been auto-generated by i3-config-wizard(1).
# It will not be overwritten, so edit it as you like.
#
# Should you change your keyboard layout some time, delete
# this file and re-run i3-config-wizard(1).
#

# i3 config file (v4)
#
# Please see http://i3wm.org/docs/userguide.html for a complete reference!

# I3 Gaps
for_window [class="^.*"] border pixel 0
for_window [class=".*"] title_format "  %title"
gaps inner 5
gaps outer 8
smart_borders on
smart_gaps on

set $mod Mod4
set $alt Mod1
set $term urxvt
set $video --no-startup-id sh ~/.config/i3/video.sh
set $camcode --no-startup-id sh ~/.config/i3/cam.sh
set $stoprec --no-startup-id killall ffmpeg & killall screenkey

### Audio/mpc ###
set $music urxvt -e ncmpcpp
set $play --no-startup-id mpc play
set $pause --no-startup-id mpc pause
set $stop --no-startup-id mpc stop
set $next --no-startup-id mpc next
set $prev --no-startup-id mpc prev
set $toggle --no-startup-id mpc toggle
set $shuffle --no-startup-id mpc random
set $repeat --no-startup-id mpc repeat
set $seekf --no-startup-id mpc seek +10
set $seekb --no-startup-id mpc seek -10
set $movef --no-startup-id mpc seek +120
set $moveb --no-startup-id mpc seek -120
set $start --no-startup-id mpc seek 0%

### Alsa/amixer ###
#set $increase --no-startup-id amixer sset Master mute
#set $decrease --no-startup-id amixer sset Master mute
#set $middle --no-startup-id amixer sset Master mute
#set $truemute --no-startup-id amixer sset Master mute
#set $screencast --no-startup-id bash ~/.config/i3/screencast_alsa.sh
#set $audio --no-startup-id bash ~/.config/i3/audio_alsa.sh

### PulseAudio/pactl ###
set $increase --no-startup-id pactl set-sink-volume 0 +5% #increase sound volume
set $decrease --no-startup-id pactl set-sink-volume 0 -5% #decrease sound volume
set $middle --no-startup-id pactl set-sink-volume 0 50% #put volume to 50%
set $truemute --no-startup-id pactl set-sink-mute 0 toggle #mute volume
set $screencast --no-startup-id bash ~/.config/i3/screencast_pulse.sh
set $audio --no-startup-id bash ~/.config/i3/audio_pulse.sh

#      autostart 
#    -------------

# polybar
#exec_always --no-startup-id "killall -q polybar;polybar -r default"
exec_always --no-startup-id $HOME/.config/polybar/launch.sh

# conky
# exec --no-startup-id conky -c ~/.conkyrc

# redshift
exec --no-startup-id redshift # -l 43.610769:3.876716 -t 6500:3500 -l manual

# restore wallpaper from nitrogen
# exec --no-startup-id nitrogen --restore

exec --no-startup-id xautolock -time 15 -locker "sh ~/.config/i3/i3lock"
exec --no-startup-id feh --bg-scale ~/.config/wallpaper.png

# compton
exec --no-startup-id compton

# pulseaudio volume notifications
exec --no-startup-id xfce4-volumed-pulse

# network manager tray icon
exec --no-startup-id nm-applet

# pulseaudio system tray icon
#exec --no-startup-id pasystray

# bluetooth tray
exec --no-startup-id blueberry-tray

# xfce4 power manager
###exec --no-startup-id xfce4-power-manager

# dropbox
exec --no-startup-id dropbox start

# numlock key always on
exec_always --no-startup-id numlockx on

exec --no-startup-id synclient TapButton1=1

# Restore GNOME's settings
#exec --no-startup-id /usr/libexec/gnome-settings-daemon-localeexec

# Fix a bug in gnome-settings-daemon: http://feeding.cloud.geek.nz/posts/creating-a-modern-tiling-desktop-environment-using-i3/
#exec --no-startup-id dconf write /org/gnome/settings-daemon/plugins/cursor/active false

# Bindings to make the webcam float and stick.
for_window [title="video0 - mpv"] floating enable
for_window [title="video0 - mpv"] sticky enable
for_window [title="video0 - mpv"] border pixel 0

# Font for window titles. Will also be used by the bar unless a different font
# is used in the bar {} block below.
font pango:Ubuntu 11

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

### Basic bindings ###
# start a terminal
bindsym $mod+Return exec i3-sensible-terminal
bindsym $mod+Shift+Return exec $term -e tmux 

bindsym asciitilde [instance="math"] scratchpad show; move position center
bindsym $mod+asciitilde [instance="console"] scratchpad show; move position center

bindsym $mod+Delete exec $truemute; exec $pause; workspace $workspace9; exec --no-startup-id ~/.config/i3/i3lock
bindsym $mod+shift+Delete exec $truemute; exec $pause; workspace $workspace9; exec $term -e tmux; exec $term -e htop

# add/remove gaps
bindsym $mod+KP_Add gaps inner current plus 5
bindsym $mod+KP_Subtract gaps inner current minus 5

# toggle tiling / floating
bindsym $mod+Shift+space floating toggle

# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle

bindsym $mod+Tab workspace next
bindsym $mod+Shift+Tab workspace prev

bindsym $mod+BackSpace mode $apps_menu
#bindsym $mod+Shift+BackSpace 

#exec i3-nagbar -t warning -m 'What do you want ?' -b 'Logout' 'i3-msg exit' -b 'Reboot' 'systemctl reboot' -b 'Shutdown' 'systemctl poweroff'
bindsym $mod+Escape mode $mode_system
bindsym $mod+shift+Escape exec i3-msg exit

### Arrows bindings ###
# alternatively, you can use the cursor keys:
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# alternatively, you can use the cursor keys:
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right


### Letter Keybinds ###

bindsym $mod+a exec $term -e calcurse
bindsym $mod+Shift+a kill

bindsym $mod+b exec --no-startup-id qutebrowser
#bindsym $mod+Shift+b exec
#
bindsym $mod+c exec $term -e weechat
bindsym $mod+Shift+c reload

bindsym $mod+d exec --no-startup-id rofi -show run 
#bindsym $mod+Shift+d exec
#
bindsym $mod+e layout toggle split
#bindsym $mod+Shift+e 
#
bindsym $mod+f fullscreen toggle
bindsym $mod+Shift+f exec sh ~/.config/i3/flash.sh

#bindsym $mod+g exec
#bindsym $mod+Shift+g exec
#
bindsym $mod+h split h; exec notify-send 'tile horizontally'
bindsym $mod+Shift+h resize shrink width 10 px or 10 ppt

bindsym $mod+i exec $term -e htop
bindsym $mod+Shift+i exec $term -e gmtp
#
#bindsym $mod+j exec
bindsym $mod+Shift+j resize grow height 10 px or 10 ppt
#
#bindsym $mod+k exec
bindsym $mod+Shift+k resize shrink height 10 px or 10 ppt
#
bindsym $mod+l exec --no-startup-id sh ~/.config/i3/i3lock
bindsym $mod+Shift+l resize grow width 10 px or 10 ppt
#
bindsym $mod+m exec $term -e neomutt
bindsym $mod+Shift+m exec $term -e mutt
#
bindsym $mod+n exec --no-startup-id mpv --geometry=-0-0 --autofit=30% /dev/video0
bindsym $mod+Shift+n exec killall mpv /dev/video0
#
bindsym $mod+o exec $term -e ranger
bindsym $mod+Shift+o exec $term -e newsboat
#
bindsym $mod+p exec $term -e ncmpcpp
bindsym $mod+Shift+p exec mpd

bindsym $mod+q focus parent
bindsym $mod+Shift+q focus child
#
bindsym $mod+r exec $prev
bindsym $mod+Shift+r restart

bindsym $mod+s layout stacking
#bindsym $mod+Shift+s exec
#
bindsym $mod+t exec $stop
bindsym $mod+Shift+t gaps inner current set 5; gaps outer current set 8

bindsym $mod+u exec --no-startup-id $next
#bindsym $mod+Shift+u exec
#
bindsym $mod+v split v; exec notify-send 'tile vertically'
#bindsym $mod+Shift+v exec
#
#bindsym $mod+w exec
#bindsym $mod+Shift+w exec
#
#bindsym $mod+x exec
#bindsym $mod+Shift+x exec
#
bindsym $mod+y exec $toggle
#bindsym $mod+Shift+y exec
#
bindsym $mod+z layout tabbed
bindsym $mod+Shift+z gaps inner current set 6; gaps outer current set 10
#



# There also is the (new) i3-dmenu-desktop which only displays applications
# shipping a .desktop file. It is a wrapper around dmenu, so you need that
# installed.
# bindsym $mod+d exec --no-startup-id i3-dmenu-desktop


# mode for launching various applications
set $apps_menu " (d)  (f)  (s) Sublime Text (c) Visual Studio Code "
mode $apps_menu {
    # start File Manager
    bindsym d exec exo-open --launch FileManager, mode "default"

    # start Web Browser
    bindsym f exec exo-open --launch WebBrowser, mode "default"

   	# start Mail Reader
    bindsym q exec exo-open --launch MailReader, mode "default"

    # start Sublime Text
    bindsym s exec subl3, mode "default"

    # start Visual Studio Code
   	bindsym c exec code, mode "default"

    # back to normal: Enter or Escape
    bindsym Return mode "default"
    bindsym Escape mode "default"
}
#set $workspace1 "1: &#xf120;"
#set $workspace2 "2: &#xf0ac;"
#set $workspace3 "3: &#xf121;"
#set $workspace4 "4: &#xf07b;"
#set $workspace5 "5: &#xf0c5;"
#set $workspace6 "6: &#xf128;"
#set $workspace7 "7: &#xf03d;"
#set $workspace8 "8: &#xf086;"
#set $workspace9 "9: &#xf1b6;"
#set $workspace10 "10: &#xf008;"

# Put only numbers so it can be recognized by polybar
set $workspace1 "1"
set $workspace2 "2"
set $workspace3 "3"
set $workspace4 "4"
set $workspace5 "5"
set $workspace6 "6"
set $workspace7 "7"
set $workspace8 "8"
set $workspace9 "9"
set $workspace10 "10"


# Assign applications to workspaces
assign [class="Gnome-terminal|Xfce4-terminal"] $workspace1
assign [class="Firefox|Google-chrome"] $workspace2
assign [class="Subl3|Code|Atom|Squeak"] $workspace3
assign [class="Nautilus|Thunar"] $workspace4
assign [class="libreoffice-writer|libreoffice-calc|libreoffice-impress|libreoffice-math|libreoffice-startcenter|Acroread|Mousepad"] $workspace5
assign [class="qBittorrent|Wine|wow.exe"] $workspace6
assign [class="obs|Cheese"] $workspace7
assign [class="Hexchat|skypeforlinux|ViberPC"] $workspace8
assign [class="Steam|Mainwindow.py"] $workspace9
assign [class="Rhythmbox|Gnome-music|Vlc|vlc|ProjectM-pulseaudio"] $workspace10

# switch to workspace
bindsym $mod+ampersand workspace $workspace1
bindsym $mod+eacute workspace $workspace2
bindsym $mod+quotedbl workspace $workspace3
bindsym $mod+apostrophe workspace $workspace4
bindsym $mod+parenleft workspace $workspace5
bindsym $mod+minus workspace $workspace6
bindsym $mod+egrave workspace $workspace7
bindsym $mod+underscore workspace $workspace8
bindsym $mod+ccedilla workspace $workspace9
bindsym $mod+agrave workspace $workspace10

# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace $workspace1
bindsym $mod+Shift+eacute move container to workspace $workspace2
bindsym $mod+Shift+quotedbl move container to workspace $workspace3
bindsym $mod+Shift+4 move container to workspace $workspace4
bindsym $mod+Shift+5 move container to workspace $workspace5
bindsym $mod+Shift+6 move container to workspace $workspace6
bindsym $mod+Shift+egrave move container to workspace $workspace7
bindsym $mod+Shift+8 move container to workspace $workspace8
bindsym $mod+Shift+ccedilla move container to workspace $workspace9
bindsym $mod+Shift+agrave move container to workspace $workspace10

# reload the configuration file
set $mode_system " (l) lock, (e) logout, (s) suspend, (h) hibernate, (r) reboot, (Shift+s) shutdown"
mode $mode_system {
    bindsym l exec --no-startup-id sh ~/.config/i3/i3exit lock, mode "default"
    bindsym e exec --no-startup-id sh ~/.config/i3/i3exit logout, mode "default"
    bindsym s exec --no-startup-id sh ~/.config/i3/i3exit suspend, mode "default"
    bindsym h exec --no-startup-id sh ~/.config/i3/i3exit hibernate, mode "default"
    bindsym r exec --no-startup-id sh ~/.config/i3/i3exit reboot, mode "default"
    bindsym Shift+s exec --no-startup-id sh ~/.config/i3/i3exit shutdown, mode "default"

    # back to normal: Enter or Escape
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

# resize window (you can also use the mouse for that)
mode "  resize " {
        # These bindings trigger as soon as you enter the resize mode

        # Pressing left will shrink the window’s width.
        # Pressing right will grow the window’s width.
        # Pressing up will shrink the window’s height.
        # Pressing down will grow the window’s height.
        bindsym h resize shrink width 10 px or 10 ppt
        bindsym j resize grow height 10 px or 10 ppt
        bindsym k resize shrink height 10 px or 10 ppt
        bindsym l resize grow width 10 px or 10 ppt

        # same bindings, but for the arrow keys
        bindsym Left resize shrink width 10 px or 10 ppt
        bindsym Down resize grow height 10 px or 10 ppt
        bindsym Up resize shrink height 10 px or 10 ppt
        bindsym Right resize grow width 10 px or 10 ppt

        # back to normal: Enter or Escape
        bindsym Return mode "default"
        bindsym Escape mode "default"
}

#bindsym $mod+r mode "  resize "


### Function Keys ###
#bindsym F1
#bindsym F2
#bindsym F3
#bindsym F4
#bindsym F5
#bindsym F6
#bindsym F7
#bindsym F8
#bindsym F9
#bindsym F10
#bindsym F11
#bindsym F12

#bindsym $mod+F1
#bindsym $mod+F2
#bindsym $mod+F3
#bindsym $mod+F4
#bindsym $mod+F5
#bindsym $mod+F6
#bindsym $mod+F7
#bindsym $mod+F8
#bindsym $mod+F9
#bindsym $mod+F10
#bindsym $mod+F11
#bindsym $mod+F12

for_window [instance="math"] border pixel 2
for_window [instance="math"] floating enable
for_window [instance="math"] resize set 640 480
for_window [instance="math"] move position center
for_window [instance="math"] move scratchpad
exec --no-startup-id $term -name math -e R -q

for_window [instance="console"] border pixel 2
for_window [instance="console"] floating enable
for_window [instance="console"] resize set 640 480
for_window [instance="console"] move position center
for_window [instance="console"] move scratchpad
exec --no-startup-id $term -name console -e tmux

set $bg                 #000000
set $sline              #ffffff
set $sep                #666666

# focused_workspace
set $fws_border         #551a8b
set $fws_bg             #551a8b
set $fws_text           #ffffff

# active_workspace
set $aws_border         #333333
set $aws_bg             #5f676a
set $aws_text           #ffffff

# inactive_workspace
set $iws_border         #000000
set $iws_bg             #000000
set $iws_text           #ffffff

# urgent_workspace
set $uws_border         #2f343a
set $uws_bg             #900000
set $uws_text           #ffffff

# window focused
set $wf_border          #3b1261
set $wf_bg              #3b1261
set $wf_text            #ffffff
set $wf_indicator       #3b1261

# window focused inactive
set $wfi_border         #333333
set $wfi_bg             #5f676a
set $wfi_text           #ffffff
set $wfi_indicator      #484e50

# window unfocused
set $wuf_border         #222222
set $wuf_bg             #222222
set $wuf_text           #888888
set $wuf_indicator      #292d2e

# window urgent
set $wu_border          #2f343a
set $wu_bg              #900000
set $wu_text            #ffffff
set $wu_indicator       #900000

# window_colors
#                         border      background     text        indicator
  client.focused          $wf_border  $wf_bg         $wf_text    $wf_indicator
  client.focused_inactive $wfi_border $wfi_bg        $wfi_text   $wfi_indicator
  client.unfocused        $wuf_border $wuf_bg        $wuf_text   $wuf_indicator
  client.urgent           $wu_border  $wu_bg         $wu_text    $wu_indicator

# Start i3bar to display a workspace bar (plus the system information i3status
# finds out, if available)
#bar {
#        separator_symbol "::"
#        font pango:Droid Sans, FontAwesome 10
#        status_command i3status --config ~/.config/i3/i3status.conf
#        #status_command i3blocks -c ~/.config/i3/i3blocks.conf
#        colors {
#                separator $sep
#                background $bg
#                statusline $sline

#                focused_workspace $fws_border $fws_bg $fws_text
#                active_workspace $aws_border $aws_bg $aws_text
#                inactive_workspace $iws_border $iws_bg $iws_text
#                urgent_workspace $uws_border $uws_bg $uws_text
#        }
#}


# Screenshot
bindsym Print exec --no-startup-id scrot -z '%Y-%m-%d-%H-%M-%S_$wx$h.png' -e 'mv $f ~/Pictures/Screenshots'; exec notify-send 'Screenshot Saved'
bindsym $mod+Print exec --no-startup-id scrot -u -z '%Y-%m-%d-%H-%M-%S_$wx$h.png' -e 'mv $f ~/Pictures/Screenshots'
bindsym --release $mod+Shift+Print exec --no-startup-id scrot -s -z '%Y-%m-%d-%H-%M-%S_$wx$h.png' -e 'mv $f ~/Pictures/Screenshots'
bindsym Insert exec $camcode
bindsym $mod+Insert exec $video
bindsym $mod+Shift+Insert exec $screencast
bindsym $mod+Pause exec $stoprec

# Pulse Audio controls
bindsym XF86AudioRaiseVolume exec  $increase
bindsym XF86AudioLowerVolume exec  $decrease
bindsym XF86AudioMute exec $truemute

# Sreen brightness controls
bindsym XF86MonBrightnessUp exec xbacklight -inc 10 # increase screen brightness
bindsym XF86MonBrightnessDown exec xbacklight -dec 5 # decrease screen brightness

# Touchpad controls
bindsym XF86TouchpadToggle exec ~/.config/i3/toggletouchpad.sh # toggle touchpad

# Media player controls
bindsym XF86AudioPlay exec $play
bindsym XF86AudioPause exec $pause
bindsym XF86AudioNext exec $next
bindsym XF86AudioPrev exec $prev

bindsym XF86Close kill

# force keyboard layout
#exec_always --no-startup-id setxkbmap -layout fr,us
#exec_always --no-startup-id setxkbmap -option 'grp:alt_shift_toggle'

exec_always --no-startup-id setxkbmap -layout fr

# Set backlight until i find a way to set it in boot
#exec --no-startup-id xbacklight -set 30

# execute gnome-desktop
# exec --no-startup-id nautilus-desktop

